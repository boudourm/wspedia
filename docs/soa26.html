<!DOCTYPE html>
<html>
	<head >
		<meta charset = "UTF-8" />
		<title>Services sans états | SOA</title>
		<link rel=stylesheet href="../style/main.css">
		<link rel=stylesheet href="../style/menu_vertical.css">
		<link rel=stylesheet href="../style/positions.css">
		<link rel=stylesheet href="../style/images.css">
		<link rel=stylesheet href="../style/syntax.css">
		<link rel=stylesheet href="../style/page.css">
		<link rel=stylesheet href="../style/header_footer.css">
		<script src="../js/images.js"></script>
        <script src="../js/syntax.js"></script>
        <style>
            nav#menu-vertical ul li input#togglecheck2:checked + ul 
            {height: 250px;}
			nav#menu-vertical ul li input#togglecheck3:checked + ul ,
			nav#menu-vertical ul li input#togglecheck1:checked + ul 
            {height: 100px;}
        </style>
	</head>
	
	<body onload="allhighlights(0);imagesEffect(1)">
		<header id = "mainheader">
			<!--============================================================
									HEADER
			==============================================================-->
					<!--to contain it in the middle-->
					<div class="container" >
						<div id="branding">
							<h1><a href="../index.html""><span class = "hightlight">WS</span>Pedia</a></h1>
						</div>	
						<nav>
							<ul>
								<li  ><a href = "../index.html">Accueil</a></li>
								<li class = "current" ><a href = "soa.html">SOA</a></li>
								<li><a href = "esb/esb.html">ESB</a></li>
								<li><a href = "ws/ws.html">WS</a></li>
							</ul>
						</nav>
					</div> 
			<!--============================================================
								/HEADER
			==============================================================-->		
					</header>

		<nav id = "menu-vertical">
				<a href="soa.html" title="">
					<div >
							<img src="../images/soaico.png">
							<span>SOA</span>
					</div>
				</a>
				<ul >
					<li>
						<div >						
							<label for="togglecheck1">
								<span >&#9654;</span>
							<!-- <span class="toggleicon iconcheck">&#9660;</span> -->	
							</label>
							<a href="soa11.html">
								<div >
									<span>Notions liés à SOA</span>
								</div>			
							</a>		
						</div>
						<input id="togglecheck1" type="checkbox" name="togglecheck1" checked />
						<ul >
							<li><a href="soa11.html"><div >Concepts</div></a></li>
							<li><a href="soa12.html"><div >Service</div></a></li>
							<li><a href="soa13.html"><div >Annuaire de services</div></a></li>
						</ul>
					</li>
					<li>
						<div >						
							<label for="togglecheck2">
								<span >&#9654;</span>
							<!-- <span class="toggleicon iconcheck">&#9660;</span> -->	
							</label>
							<a href="soa2.html">
								<div >
									<span>Conception d'une SOA </span>
								</div>			
							</a>		
						</div>
						<input id="togglecheck2" type="checkbox" name="togglecheck2" checked />
						<ul >
							<li><a href="soa21.html"><div >Contrat standard</div></a></li>
							<li><a href="soa22.html"><div >Couplage faible</div></a></li>
							<li><a href="soa23.html"><div >Services abstraits</div></a></li>
							<li><a href="soa24.html"><div >Services réutilisables</div></a></li>
							<li><a href="soa25.html"><div >Services autonomes</div></a></li>
							<li><a href="soa26.html"><div >Services sans état</div></a></li>
							<li><a href="soa27.html"><div >Découvrabilité</div></a></li>
							<li><a href="soa28.html"><div >Composabilité</div></a></li>
						</ul>
					</li>
					<li>
						<div >						
							<label for="togglecheck3">
								<span >&#9654;</span>
							<!-- <span class="toggleicon iconcheck">&#9660;</span> -->	
							</label>
							<a href="soa31.html">
								<div >
									<span>Implémentations SOA</span>
								</div>			
							</a>		
						</div>
						<input id="togglecheck3" type="checkbox" name="togglecheck3" checked />
						<ul >
							<li><a href="soa31.html"><div >Bus de service</div></a></li>
							<li><a href="soa32.html"><div >WOA (Web-oriented architecture)</div></a></li>
						</ul>
					</li>
					<li>
						<div >						
							<label for="togglecheck7">
								<span >&#9654;</span>
							<!-- <span class="toggleicon iconcheck">&#9660;</span> -->	
							</label>
							<a href="quizz.html">
								<div >
										<span>QUIZZ</span>
								</div>			
							</a>		
						</div>
					</li>
				</ul>
			</nav>

		<main>
			<!--Article = sousTitre -->
			<article>
				<!--Titre du Soutitre-->
				<header>
					<h2>
                        Services sans états  
						<img src = "../images/redbox.png" style="height: 15px; width:200px;">
					</h2>
				</header>
				<!--/Titre du Soutitre-->

                <!--P-->
					<p>
                        &emsp;Quand vous développez un service, il faut veiller qu'aucune 
                        requête ne dépende de la réponse d’une autre.
                    </p>
                <!--/P-->
                    <!--IMAGE-->
				<img id="myImg1" 
                class="myImg" 
                src="../images/stateless.jpg" 
                alt="Web Service stateless">
                <!-- The Modal -->
                <div id="myModal1" class="modal">
                    <span class="close">×</span>
                    <img class="modal-content" id="img01">
                    <div id="caption1" class="caption"></div>
                </div>
                <!--/IMAGE-->

                <!--P-->
					<p>
                        <i style="color:rgb(34, 156, 212);">Exemple</i> :<br>
                        Votre service gère le panier dans un e-commerce. Vous pouvez être
                         tenté d’implémenter le fonctionnement suivant :
                    </p>
                    <!--/P-->
                    <!--UL-->
				<ul>
                    <li>Un service externe appelle le vôtre en ajoutant un produit A pour le client Robert, 
                    puis fait un autre appel pour ajouter un produit B pour le même client.</li>
                    <li>Vous gardez ensuite en mémoire une session qui gère le panier de cet utilisateur 
                    de façon à ce que quand le client souhaite passer la commande, le service externe 
                    vous passe la simple requête “commander”. Comme vous avez tout ce qu’il faut en session, 
                    il suffit d’enregistrer la commande.</li>
                </ul>
                <!--/UL-->
                <p>
                        &emsp;Votre service a donc maintenu une session en <strong>état</strong> pendant une période assez 
                        longue, et le service externe comptait sur cet état précis pour passer la commande.
                </p>
                <!--/P-->
         <!--P-->
               <p>
                    &emsp;Un des inconvénients de cette approche est que si vous avez 2000 clients sur la boutique, vous 
                    saturez la mémoire vive avec 2000 sessions actives. De plus, votre service doit rester actif pour 
                    maintenir les sessions ce qui réduit la scalabilité du système : en d’autres termes on aimerait pouvoir
                     ajouter des instances de votre service et en supprimer en fonction du trafic, sauf que comme votre 
                     service a un état, il est difficile de supprimer une de ces instances sans perdre des paniers par exemple.
            </p>
            <!--/P-->
            <!--P-->
            <p>
                    &emsp;<i style="color:rgb(80, 185, 76);">Solution :</i> quand un service externe demande à ajouter un produit A au client Robert, il 
                    suffit d’enregistrer cette donnée dans le système de gestion des données (base de données par exemple)
                     et de retourner l’id du panier. Quand le service externe souhaite ajouter un autre produit ou passer 
                     la commande, il est de sa responsabilité de vous passer l’id du panier sur lequel il faut faire l’opération.
                      Ainsi n’importe quelle instance de votre service peut répondre à une telle demande, votre service est donc <strong>stateless</strong>.
            </p>
            <!--/P-->
			</article>
			<!--/Article-->
		</main>

		<footer id="mainfooter" class="principal">
			<p> <span>Mehdi & A</span> Inc. , Copyright &copy; 2019 All Rights Reserved  </p>
		</footer>
		
	</body>
</html>
